{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\2021\\\\reactjs\\\\wordup\\\\src\\\\components\\\\auth\\\\Logout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Logout = () => {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (localStorage.getItem('token') == null) {\n      window.location.replace('http://localhost:3000/login');\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const handleLogout = e => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    fetch('http://127.0.0.1:8000/api/auth/logout/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Token ${token}`\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      localStorage.clear();\n      window.location.replace('http://localhost:3000/login');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading === false && /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Are you sure you want to logout ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        value: \"Logout\",\n        onClick: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Logout, \"J7PPXooW06IQ11rfabbvgk72KFw=\");\n\n_c = Logout;\nexport default Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["C:/Users/Dell/Desktop/2021/reactjs/wordup/src/components/auth/Logout.js"],"names":["React","useState","useEffect","Fragment","Logout","loading","setLoading","localStorage","getItem","window","location","replace","handleLogout","e","preventDefault","token","fetch","method","headers","Authorization","then","res","json","data","console","log","clear"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,QAApC,QAAmD,OAAnD;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAEjB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGK,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,IAApC,EAA2C;AACvCC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,6BAAxB;AACH,KAFD,MAEO;AACHL,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMM,YAAY,GAAGC,CAAC,IAAI;AACtBA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,KAAK,GAAGR,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAQ,IAAAA,KAAK,CAAC,wCAAD,EAA2C;AAC5CC,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,OAAO,EAAG;AACN,wBAAiB,kBADX;AAENC,QAAAA,aAAa,EAAI,SAAQJ,KAAM;AAFzB;AAFkC,KAA3C,CAAL,CAOCK,IAPD,CAOMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPb,EAQCF,IARD,CAQMG,IAAI,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAhB,MAAAA,YAAY,CAACmB,KAAb;AACAjB,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,6BAAxB;AACH,KAZD;AAcH,GAlBD;;AAsBA,sBACE;AAAA,cACGN,OAAO,KAAK,KAAZ,iBACC,QAAC,QAAD;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAoC,QAAA,OAAO,EAAEO;AAA7C;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,UADF;AAUH,CA5CD;;GAAMR,M;;KAAAA,M;AA8CN,eAAeA,MAAf","sourcesContent":["import React, {useState, useEffect, Fragment} from 'react'\r\n\r\nconst Logout = () => {\r\n\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem('token') == null ) {\r\n            window.location.replace('http://localhost:3000/login')\r\n        } else {\r\n            setLoading(false)\r\n        }\r\n    }, []);\r\n\r\n    const handleLogout = e => {\r\n        e.preventDefault();\r\n\r\n        const token = localStorage.getItem('token')\r\n        fetch('http://127.0.0.1:8000/api/auth/logout/', {\r\n            method: 'POST',\r\n            headers : {\r\n                'Content-Type' : 'application/json' ,\r\n                Authorization : `Token ${token}`\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data)\r\n            localStorage.clear();\r\n            window.location.replace('http://localhost:3000/login')\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n      <div>\r\n        {loading === false && (\r\n          <Fragment>\r\n            <h2>Are you sure you want to logout ?</h2>\r\n            <input type=\"button\" value=\"Logout\" onClick={handleLogout} />\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Logout\r\n"]},"metadata":{},"sourceType":"module"}