{"ast":null,"code":"import _slicedToArray from\"C:/Users/Dell/Desktop/2021/ReactJS/wordup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Logout=function Logout(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){if(localStorage.getItem('token')==null){window.location.replace('https://wordup-dict.netlify.app/login');}else{setLoading(false);}},[]);var handleLogout=function handleLogout(e){e.preventDefault();/*\r\n    var url = 'http://127.0.0.1:8000/api/auth/logout'   \r\n    var url = 'http://127.0.0.1:8000/accounts/api/auth/logout' \r\n*/var url='https://ascentrick.pythonanywhere.com/api/auth/logout';fetch(url,{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Token\".concat(localStorage.getItem('token'))}}).then(function(res){return res.json();}).then(function(data){console.log(data);localStorage.clear();// window.location.replace('/')\nwindow.location.replace('https://wordup-dict.netlify.app/');});};return/*#__PURE__*/_jsx(_Fragment,{children:loading===false&&/*#__PURE__*/_jsx(\"div\",{className:\"ui middle aligned center aligned grid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"four wide column\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"ui teal image header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Are you sure you want to logout ?\"})})}),/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:\"ui large pink submit button\",onClick:handleLogout,children:\"Logout\"})})]})})});};export default Logout;","map":{"version":3,"sources":["C:/Users/Dell/Desktop/2021/ReactJS/wordup/src/components/auth/Logout.js"],"names":["React","useState","useEffect","Fragment","Logout","loading","setLoading","localStorage","getItem","window","location","replace","handleLogout","e","preventDefault","url","fetch","method","headers","Authorization","then","res","json","data","console","log","clear"],"mappings":"gKAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,QAApC,KAAmD,OAAnD,C,6IAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,cAA8BH,QAAQ,CAAC,IAAD,CAAtC,wCAAOI,OAAP,eAAgBC,UAAhB,eAEAJ,SAAS,CAAC,UAAM,CACd,GAAGK,YAAY,CAACC,OAAb,CAAqB,OAArB,GAAiC,IAApC,CAA2C,CACvCC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,uCAAxB,EACH,CAFD,IAEO,CACHL,UAAU,CAAC,KAAD,CAAV,CACH,CACF,CANQ,CAMN,EANM,CAAT,CAQA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACxBA,CAAC,CAACC,cAAF,GACJ;AACA;AACA;AACA,EACI,GAAIC,CAAAA,GAAG,CAAG,uDAAV,CACAC,KAAK,CAAED,GAAF,CAAQ,CACXE,MAAM,CAAE,MADG,CAEXC,OAAO,CAAG,CACP,eAAiB,kBADV,CAENC,aAAa,gBAAWZ,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAFP,CAFC,CAAR,CAAL,CAOGY,IAPH,CAOQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAPX,EAQGF,IARH,CAQQ,SAAAG,IAAI,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAhB,YAAY,CAACmB,KAAb,GACA;AACAjB,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,kCAAxB,EACH,CAbD,EAcD,CArBD,CAuBA,mBACA,yBACGN,OAAO,GAAK,KAAZ,eACC,YAAK,SAAS,CAAC,uCAAf,uBACA,aAAK,SAAS,CAAC,kBAAf,wBACE,WAAI,SAAS,CAAC,sBAAd,uBACE,YAAK,SAAS,CAAC,SAAf,uBACA,yDADA,EADF,EADF,cAME,KAAC,QAAD,wBACE,eAAQ,SAAS,CAAC,6BAAlB,CAAiD,OAAO,CAAEO,YAA1D,oBADF,EANF,GADA,EAFJ,EADA,CAkBD,CApDD,CAsDA,cAAeR,CAAAA,MAAf","sourcesContent":["import React, {useState, useEffect, Fragment} from 'react'\r\n\r\nconst Logout = () => {\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if(localStorage.getItem('token') == null ) {\r\n        window.location.replace('https://wordup-dict.netlify.app/login')\r\n    } else {\r\n        setLoading(false)\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = e => {\r\n    e.preventDefault();\r\n/*\r\n    var url = 'http://127.0.0.1:8000/api/auth/logout'   \r\n    var url = 'http://127.0.0.1:8000/accounts/api/auth/logout' \r\n*/ \r\n    var url = 'https://ascentrick.pythonanywhere.com/api/auth/logout'\r\n    fetch( url , {\r\n      method: 'POST',\r\n      headers : {\r\n         'Content-Type' : 'application/json' ,\r\n          Authorization : `Token${localStorage.getItem('token')}`\r\n        }\r\n      })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log(data)\r\n        localStorage.clear();\r\n        // window.location.replace('/')\r\n        window.location.replace('https://wordup-dict.netlify.app/')\r\n    })\r\n  }\r\n\r\n  return (\r\n  <>\r\n    {loading === false && (\r\n      <div className=\"ui middle aligned center aligned grid\">\r\n      <div className=\"four wide column\">\r\n        <h2 className=\"ui teal image header\">\r\n          <div className=\"content\">\r\n          <h2>Are you sure you want to logout ?</h2>\r\n          </div>\r\n        </h2>\r\n        <Fragment>\r\n          <button className=\"ui large pink submit button\"  onClick={handleLogout}>Logout</button>\r\n        </Fragment>    \r\n      </div>\r\n      </div>\r\n    )}\r\n  </>\r\n  )\r\n}\r\n\r\nexport default Logout\r\n"]},"metadata":{},"sourceType":"module"}